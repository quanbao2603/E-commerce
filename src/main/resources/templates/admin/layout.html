<!DOCTYPE html>
<html lang="vi"
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title layout:title-pattern="$CONTENT_TITLE | WomTech Admin">WomTech Admin</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome 6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
      crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Bootstrap Icons (backup) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
<link th:href="@{/css/style.css}" rel="stylesheet" >
<th:block layout:fragment="css"></th:block>

<!-- Base Styles -->
<style>
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
}

body {
    background: #f8f9fa;
}

.content-wrapper {
    padding: 20px;
    background: #fff;
    border-radius: 10px;
    margin: 20px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* Pagination Styles */
.pagination {
    display: flex !important;
    justify-content: center;
    margin-top: 20px;
    flex-wrap: wrap;
}

.pagination .page-link {
    color: #0d6efd;
    border: 1px solid #dee2e6;
    margin: 0 3px;
    transition: all 0.3s ease;
}

.pagination .page-link:hover {
    background-color: #e9ecef;
    color: #0d6efd;
}

.pagination .active .page-link {
    background-color: #0d6efd;
    border-color: #0d6efd;
    color: white;
}

.pagination .disabled .page-link {
    color: #6c757d;
    pointer-events: none;
    background-color: #fff;
    border-color: #dee2e6;
}

/* Main Content Area */
main {
    min-height: calc(100vh - 200px);
}

/* Icon Fix - Đảm bảo icons hiển thị */
.fas, .far, .fab, .fa {
    font-family: 'Font Awesome 6 Free', 'Font Awesome 6 Brands' !important;
    font-weight: 900;
    -webkit-font-smoothing: antialiased;
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
}

.far {
    font-weight: 400;
}

/* Responsive */
@media (max-width: 768px) {
    .content-wrapper {
        margin: 10px;
        padding: 15px;
    }
}
</style>

<!-- Custom CSS cho từng page -->
<th:block layout:fragment="css"></th:block>
</head>

<body class="bg-light">
	<div th:replace="~{admin/fragments/header :: header}"></div>
	
	<main class="container py-4" layout:fragment="content"></main>
	
	<div th:replace="~{admin/fragments/footer :: footer}"></div>
	<!-- Bootstrap JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Main App JS -->
	<script th:src="@{/js/app.js}"></script>
	<!-- Custom JS -->
	<script layout:fragment="scripts">
        // Custom scripts will be inserted here
    </script>

	<!-- Update cart badge -->
	<script th:if="${session.currentUser != null}">
        // Update cart badge on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateCartBadge();
        });
        
        function updateCartBadge() {
            fetch('/cart/count', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                const badge = document.getElementById('cartBadge');
                if (badge && data.totalItems > 0) {
                    badge.textContent = data.totalItems;
                    badge.style.display = 'flex';
                } else if (badge) {
                    badge.style.display = 'none';
                }
            })
            .catch(error => console.log('Error updating cart badge:', error));
        }
    </script>

</body>
</html>