 <!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{user/layout}">

<head>
    <meta charset="UTF-8">
    <title>Trang chủ - WOMTech</title>
    <link th:href="@{/css/user/index.css}" rel="stylesheet">
    <script th:src="@{/js/index.js}"></script>
</head>

<body>
<div layout:fragment="content">

    <!-- HERO -->
    <section class="hero-with-categories">
        <div class="container-xxl">
            <div class="row align-items-stretch">
                <div class="hero-area">
                    <div class="hero-content text-center">
                        <h1>Khám phá thế giới Laptop đỉnh cao</h1>
                        <p>Hiệu năng vượt trội – Thiết kế tinh tế – Chỉ có tại <strong>WOMTech</strong></p>
                        <a th:href="@{/products}" class="btn-glow mt-3">Mua ngay</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- DANH MỤC NỔI BẬT -->
	<section class="container py-5">
	    <h2 class="text-center mb-4">
	        Danh mục nổi bật
	    </h2>
	
	    <div class="row g-4 justify-content-center">
	        <div class="col-lg-2 col-md-3 col-sm-4 col-6" th:each="cate : ${featuredCategories}">
	            <a th:href="@{/products(category=${cate.categoryID})}"
	               class="category-card d-flex flex-column align-items-center justify-content-center text-decoration-none">
	                <div class="category-icon mb-3">
	                    <i th:class="'bi ' + 
			                (${cate.name.equalsIgnoreCase('Laptop')} ? 'bi-laptop' :
			                (${cate.name.equalsIgnoreCase('PC & Gaming')} ? 'bi-pc' :
			                (${cate.name.equalsIgnoreCase('Phụ kiện')} ? 'bi-headphones' :
			                'bi-box-seam')))" 
			               class="fs-1 text-light"></i>
	                </div>
	                <h6 th:text="${cate.name}" class="category-name text-dark fw-semibold mb-0 text-center"></h6>
	            </a>
	        </div>
	    </div>
	</section>

    <!-- SẢN PHẨM NỔI BẬT -->
    <section class="container py-5">
        <h2 class="text-center mb-4">Sản phẩm nổi bật</h2>
        <div class="row g-4">
            <div class="col-lg-3 col-md-4 col-sm-6" th:each="p : ${featuredProducts}">
                <div class="product-card h-100 text-center">
                    <img th:src="@{|/images/${p.thumbnail}|}" th:alt="${p.name}">
                    <div class="product-info p-3">
                        <h5 th:text="${p.name}"></h5>
                        <p class="price"
                           th:text="${#numbers.formatDecimal(p.price, 0, 'POINT', 0, 'POINT')} + ' VNĐ'"></p>
                        <a th:href="@{/product/{id}(id=${p.productID})}"
   							class="btn btn-outline-primary w-100 mt-2">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
	
	<!-- SECTION: SẢN PHẨM THEO DANH MỤC -->
	<section class="container py-5" th:each="entry : ${productsByCategory}">
	    <div class="d-flex justify-content-between align-items-center mb-3">
	        <h3 th:text="${entry.key}" class="fw-bold"></h3>
	        <a th:href="@{/products(category=${entry.key})}" class="btn btn-link">Xem tất cả »</a>
	    </div>
	
	    <div class="row g-4">
	        <div class="col-lg-3 col-md-4 col-sm-6"
	             th:each="p : ${entry.value}">
	            <div class="product-card h-100 text-center">
	                <img th:src="@{|/images/${p.thumbnail}|}" th:alt="${p.name}">
	                <div class="product-info p-3">
	                    <h6 th:text="${p.name}"></h6>
	                    <p class="price"
	                       th:text="${#numbers.formatDecimal(p.price, 0, 'POINT', 0, 'POINT')} + ' VNĐ'"></p>
	                    <a th:href="@{/product/{id}(id=${p.productID})}"
	                       class="btn btn-outline-primary w-100 mt-2">Xem chi tiết</a>
	                </div>
	            </div>
	        </div>
	    </div>
	</section>
</div>
</body>
</html>
